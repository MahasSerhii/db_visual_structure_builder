/* Shake Animation */
@keyframes shake {
  0% { transform: translate(var(--tx), var(--ty)) rotate(0deg); }
  25% { transform: translate(calc(var(--tx) + 2px), var(--ty)) rotate(1deg); }
  50% { transform: translate(calc(var(--tx) - 2px), var(--ty)) rotate(-1deg); }
  75% { transform: translate(calc(var(--tx) + 2px), var(--ty)) rotate(1deg); }
  100% { transform: translate(var(--tx), var(--ty)) rotate(0deg); }
}

.node-group.shaking {
  animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both;
}

/* Add blink effect for lock icon inside shaking node */
@keyframes lock-blink {
  0%, 100% { transform: scale(1); filter: brightness(1); }
  50% { transform: scale(1.1); filter: brightness(1.2); }
}

.node-group.shaking .node-lock-btn {
  animation: lock-blink 0.4s ease-in-out infinite;
}